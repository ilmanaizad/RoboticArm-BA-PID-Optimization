<?xml version="1.0"?>
<robot name="robotic_arm">

  <!-- Materials -->
  <material name="blue"><color rgba="0 0 1 0.8" /></material>
  <material name="red"><color rgba="1 0 0 0.8"/></material>
  <material name="green"><color rgba="0 1 0 0.8" /></material>
  <material name="white"><color rgba="1 1 1 0.8" /></material>
  <material name="grey"><color rgba="0.7 0.7 0.7 0.8" /></material>

  <!-- Base -->
  <link name="base_link">
    <visual><geometry><box size="0.4 0.4 0.05"/></geometry><origin xyz="0 0 0.025"/></visual>
    <collision><geometry><box size="0.4 0.4 0.05"/></geometry><origin xyz="0 0 0.025"/></collision>
    <inertial><origin xyz="0 0 0.025"/><mass value="5.0"/><inertia ixx="0.0677" ixy="0" ixz="0" iyy="0.0677" iyz="0" izz="0.1333"/></inertial>
  </link>
  <gazebo reference="base_link"><static>true</static></gazebo>

  <!-- Link 1 -->
  <link name="link1">
    <visual><geometry><cylinder radius="0.1" length="0.1"/></geometry><origin xyz="0 0 0.05"/></visual>
    <collision><geometry><cylinder radius="0.1" length="0.1"/></geometry><origin xyz="0 0 0.05"/></collision>
    <inertial><origin xyz="0 0 0.05"/><mass value="1.5"/><inertia ixx="0.005" iyy="0.005" izz="0.0075" ixy="0" ixz="0" iyz="0"/></inertial>
  </link>

  <!-- Link 2 -->
  <link name="link2">
    <visual><geometry><cylinder radius="0.04" length="0.4"/></geometry><origin xyz="0 0 0.2"/></visual>
    <inertial><origin xyz="0 0 0.2"/><mass value="0.8"/><inertia ixx="0.011093" iyy="0.011093" izz="0.000853" ixy="0" ixz="0" iyz="0"/></inertial>
  </link>

  <!-- Link 3 -->
  <link name="link3">
    <visual><geometry><cylinder radius="0.03" length="0.4"/></geometry><origin xyz="0 0 0.2"/></visual>
    <collision><geometry><box size="0.06 0.06 0.4"/></geometry><origin xyz="0 0 0.2"/></collision>
    <inertial><origin xyz="0 0 0.2"/><mass value="0.6"/><inertia ixx="0.00818" iyy="0.00818" izz="0.00036" ixy="0" ixz="0" iyz="0"/></inertial>
  </link>

  <!-- Link 4 -->
  <link name="link4">
    <visual><geometry><sphere radius="0.03"/></geometry><origin xyz="0 0 0.03"/></visual>
    <inertial><origin xyz="0 0 0.03"/><mass value="0.2"/><inertia ixx="0.000072" iyy="0.000072" izz="0.000072" ixy="0" ixz="0" iyz="0"/></inertial>
  </link>

  <link name="ee_link"/>

  <!-- Joints -->
  <joint name="joint1" type="continuous">
    <parent link="base_link"/><child link="link1"/><origin xyz="0 0 0.05"/><axis xyz="0 0 1"/>
  </joint>
  <joint name="joint2" type="revolute">
    <parent link="link1"/><child link="link2"/><origin xyz="0 0 0.1"/><axis xyz="0 1 0"/>
    <limit lower="-1.57" upper="1.57" effort="20" velocity="1"/>
  </joint>
  <joint name="joint3" type="revolute">
    <parent link="link2"/><child link="link3"/><origin xyz="0 0 0.4"/><axis xyz="0 1 0"/>
    <limit lower="-1.57" upper="1.57" effort="20" velocity="1"/>
  </joint>
  <joint name="joint4" type="fixed">
    <parent link="link3"/><child link="link4"/><origin xyz="0 0 0.4"/>
  </joint>
  <joint name="joint5" type="fixed">
    <parent link="link4"/><child link="ee_link"/><origin xyz="0 0 0.06"/>
  </joint>

  <!-- ros2_control interfaces -->
  <ros2_control name="GazeboSystem" type="system">
    <hardware>
      <plugin>gazebo_ros2_control/GazeboSystem</plugin>
    </hardware>
    <joint name="joint1">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="joint2">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
    <joint name="joint3">
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
    </joint>
  </ros2_control>

  <gazebo>
    <plugin name="gazebo_ros2_control" filename="libgazebo_ros2_control.so">
      <parameters>/home/ilmanaizad/ros2_ws/install/robotic_arm/share/robotic_arm/config/ros2_controllers.yaml</parameters>
    </plugin>
  </gazebo>


</robot>
